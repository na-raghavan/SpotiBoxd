const axios = require('axios');

const CLIENT_ID = '17e9317ddf094191980af02c9b80d25e';
const CLIENT_SECRET = '148f6ecc5ef74d3992f068c4d8e1e5dd';
const REDIRECT_URI = 'YOUR_REDIRECT_URI';
const CODE = req.query.code; // Code from the callback query parameter

// Exchange code for access token
axios.post('https://accounts.spotify.com/api/token', null, {
    params: {
        grant_type: 'authorization_code',
        code: CODE,
        redirect_uri: REDIRECT_URI,
        client_id: CLIENT_ID,
        client_secret: CLIENT_SECRET,
    }
}).then(response => {
    const access_token = response.data.access_token; // Store access_token securely for further use
}).catch(error => { // Handle error
});